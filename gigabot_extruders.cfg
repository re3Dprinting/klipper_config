#EXTRUDER 0
[extruder]
step_pin: PA1
dir_pin: !PA3
enable_pin: !PG1
microsteps: 32
rotation_distance: 6.4
nozzle_diameter: 0.400
filament_diameter: 2.85
max_extrude_cross_section: 1
pressure_advance: 0.095

[gcode_macro T0]
gcode:
    SET_GCODE_OFFSET X=0 Y=0 
    ACTIVATE_EXTRUDER EXTRUDER=extruder
    SET_FILAMENT_SENSOR SENSOR=filament_runout_extruder0 ENABLE=1
    SET_FILAMENT_SENSOR SENSOR=filament_runout_extruder1 ENABLE=0

#EXTRUDER 1
[extruder1]
step_pin: PA5
dir_pin: PA7
enable_pin: !PG0
microsteps: 32
rotation_distance: 6.4
nozzle_diameter: 0.400
filament_diameter: 2.85
max_extrude_cross_section: 1
pressure_advance: 0.095

[gcode_macro T1]
gcode:
    {% set current_x_offset = printer.save_variables.variables.dual_nozzle_x_offset|default(55)|float %}
    {% set current_y_offset = printer.save_variables.variables.dual_nozzle_y_offset|default(0)|float %}
    SET_GCODE_OFFSET X=-{current_x_offset} Y=-{current_y_offset}
    ACTIVATE_EXTRUDER EXTRUDER=extruder1
    SET_FILAMENT_SENSOR SENSOR=filament_runout_extruder0 ENABLE=0
    SET_FILAMENT_SENSOR SENSOR=filament_runout_extruder1 ENABLE=1

#DUMMY EXTRUDER 2, EXTRUDER 3
[duplicate_pin_override]
pins: PA1, PA3, PG1, PA5, PA7, PG0

[extruder2]
step_pin: PA1
dir_pin: PA3
enable_pin: !PG1
microsteps: 32
rotation_distance: 6.4
nozzle_diameter: 0.400
filament_diameter: 2.85
shared_heater: extruder

[extruder3]
step_pin: PA5
dir_pin: PA7
enable_pin: !PG0
microsteps: 32
rotation_distance: 6.4
nozzle_diameter: 0.400
filament_diameter: 2.85
shared_heater: extruder1